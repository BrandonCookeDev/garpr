<div class="container" ng-init="isRankingsCollapsed = !isRankingsCollapsed">
    <div class="panel panel-default" id="rankingsControlPanel">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a href="#" ng-click="isRankingsCollapsed = !isRankingsCollapsed">
              Rankings Control Panel
            </a>
          </h4>
        </div>
        <div collapse="isRankingsCollapsed">
          <div class="panel-body">
              <form id="rankingsControlPanelForm">
                <!-- Options to tweak rankings go here -->
                Calculate <input type="number" id="numberDaysBackText" ng-model="numberDaysBack"> Days of Results. <br/>
                Must attend at least <input type="number" id="numberTourneysAttendedText" ng-model="numberTourneysAttended" >
                  tournaments in the ranking time frame. </br>
              </form>
          </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-10">
            <h3>As of {{rankingsService.rankingsList.time.substring(0,10)}}</h3>
        </div>
        <div class="col-md-2" ng-show="sessionService.isAdminForRegion(regionService.region.id)">
            <h3 class="text-right"><button type="button" class="btn btn-danger" ng-click="prompt()">Regenerate rankings</button></h3>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <table class="table table-striped table-condensed">
                <tr>
                    <td>Rank</td>
                    <td>Name</td>
                    <td>Rating</td>
                </tr>
                <tr ng-repeat="line in rankingsService.rankingsList.ranking">
                    <td>{{line.rank}}</td>
                    <td><a href="#/{{regionService.region.id}}/players/{{line.id}}">{{line.name}}</a></td>
                    <td>{{line.rating | number:3}}</td>
                </tr>
            </table>
        </div>
    </div>
</div>
