<div class="container">
    <br />
    <div class="panel panel-default" id="rankingsControlPanel" ng-show="sessionService.isAdminForRegion(regionService.region.id)">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a ng-click="isRankingsCollapsed = !isRankingsCollapsed">
                    Rankings Control Panel
                </a>
            </h4>
        </div>
        <div collapse="!isRankingsCollapsed">
            <div class="panel-body">
                <form id="rankingsControlPanelForm" ng-submit="saveRegionRankingsCriteria()">
                <!-- Options to tweak rankings go here -->
                <h3>Ranking Qualification:</h3>
                <span>
                 Span <input type="number" maxlength='3' id="numberDaysBackText" ng-model="rankingNumDaysBack" style="3px"/> Days Back.
                </span>
                <br/><br/>
                <span>
                Has Attended At Least <input type="number" maxlength="3" ng-model="rankingsNumTourneysAttended"
                                                   style="3px"/> Tournaments
                </span>
                    <br/><br/>
                    <input type="submit" value="Save Changes"/>
                </form>
            </div>
        </div>
    </div>

    <br/>

    <div class="panel panel-default" id="tournamentQualificationControlPanel" ng-show="sessionService.isAdminForRegion(regionService.region.id)">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a ng-click="isTournamentQCollapsed = !isTournamentQCollapsed">
                    Tournament Qualification Control Panel
                </a>
            </h4>
        </div>
        <div collapse="!isTournamentQCollapsed">
            <div class="panel-body">
                <form id="tournamentControlPanelForm" ng-submit="saveTournamentQualificationCriteria()">
                <!-- Options to tweak tournament qualifications go here -->
                <span>
                    <h3>Tournament Inclusion:</h3>
                    Include Tournaments <input type="number" maxlength="3" ng-model="tourneyNumDaysBack" style="3px"/> Days Back
                    <br/><br/>
                    Begin at Date: <input type="date" ng-model="tourneyDaysBackStartDate" placeholder="mm/dd/yyyy" ng-change="getNumberDaysBack()">
                    <br/><hr/><br/>
                    <!--
                    Include Tournaments From
                    <input type="date" ng-model="tourneyRangeStartDate" placeholder="mm/dd/yyyy"/>
                    to
                    <input type="date" ng-model="tourneyRangeDaysStartDate" placeholder="mm/dd/yyyy"/>
                    -->
                </span>
                <br/><br/>
                <input type="submit" value="Save Changes"/>
                </form>
            </div>
        </div>
    </div>



    <div class="row">
        <div class="col-md-10">
            <h3>Rankings as of {{rankingsService.rankingsList.time.substring(0,10)}}</h3>
        </div>
        <div class="col-md-2" ng-show="sessionService.isAdmin()">
            <h3 class="text-right">
                <button type="button" class="btn btn-danger" ng-click="prompt()">Regenerate rankings</button>
            </h3>
        </div>
    </div>
    <div class="row">
        <div ng-show="!sessionService.isAdmin() && rankingsNumTourneysAttended && rankingNumDaysBack" class="col-md-10">
            <h4> Region Qualification: Competed in {{ rankingsNumTourneysAttended }} Tournaments within {{ rankingNumDaysBack }} Days </h4>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <table class="table table-striped table-condensed">
                <tr class="table_header">
                    <th>Rank</th>
                    <th>Name</th>
                    <th>Rating</th>
                </tr>
                <tr ng-repeat="line in rankingsService.rankingsList.ranking">
                    <td><b>{{line.rank}}</b></td>
                    <td><a href="#/{{regionService.region.id}}/players/{{line.id}}">{{line.name}}</a></td>
                    <td>{{line.rating | number:3}}</td>
                </tr>
            </table>
        </div>
    </div>
</div>
